{"remainingRequest":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SpringBoot-master\\MemoryFront\\src\\views\\AIupload.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\SpringBoot-master\\MemoryFront\\src\\views\\AIupload.vue","mtime":1716967218000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRva2VuOiAnJywNCiAgICAgIGFsYnVtczogWw0KICAgICAgXSwNCiAgICAgIGlucHV0QWxidW06ICcnLA0KICAgICAgZm9ybWRhdGE6IHsNCiAgICAgICAgYWxidW06IHsNCiAgICAgICAgICBhbGJ1bUlkOiAnLTEnLA0KICAgICAgICAgIGFsYnVtTmFtZTogJycNCiAgICAgICAgfSwvL+ebuOWGjOWQjeWtlw0KICAgICAgICBpbWdTaXRlOiAnJywvL+aLjeaRhOWcsOeCuQ0KICAgICAgICByZXNOdW1iZXI6ICcnLC8v54Wn54mH57G75Z6LDQogICAgICAgIGltZ2RhdGU6ICcnLC8v5ouN5pGE5pe26Ze0DQogICAgICB9LA0KICAgICAgLy8g6K+G5Yir5pWw6YePDQogICAgICByZXNOdW1iZXI6IFsNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAxLA0KICAgICAgICAgIGxhYmVsOiAnMeS4qicNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAyLA0KICAgICAgICAgIGxhYmVsOiAnMuS4qicNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAzLA0KICAgICAgICAgIGxhYmVsOiAnM+S4qicNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiA0LA0KICAgICAgICAgIGxhYmVsOiAnNOS4qicNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiA1LA0KICAgICAgICAgIGxhYmVsOiAnNeS4qicNCiAgICAgICAgfSwNCiAgICAgIF0sDQoNCiAgICAgIGZpbGVMaXN0OiBbXSwvL+WbvueJh+WIl+ihqA0KICAgICAgZGlhbG9nSW1hZ2VVcmw6ICcnLA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICB0YWJsZURhdGE6IFt7DQogICAgICAgIGltZzogJycsDQogICAgICAgIHJlczE6ICcnLA0KICAgICAgICByZXMyOiAnJywNCiAgICAgICAgcmVzMzogJycsDQogICAgICAgIHJlczQ6ICcnLA0KICAgICAgICByZXM1OiAnJywNCiAgICAgIH0sDQogICAgICBdLA0KICAgICAgcHJvZ3Jlc3NUZXh0OiAi5pyN5Yqh5Zmo5byA5aeL6K+G5Yir5YiG5p6QIiwNCiAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICBkaWFsb2dUYWJsZVZpc2libGU6IGZhbHNlLC8v6K+G5Yir57uT5p6c6KGoDQogICAgfQ0KICB9LA0KICAvLyDorqHnrpflsZ7mgKcNCiAgY29tcHV0ZWQ6IHsNCiAgICBzZWxlY3RNb2RlbDogew0KICAgICAgZ2V0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5mb3JtZGF0YS5hbGJ1bS5hbGJ1bU5hbWU7DQogICAgICB9LA0KICAgICAgc2V0KGFsYnVtSW5kZXgpIHsNCiAgICAgICAgdGhpcy5mb3JtZGF0YS5hbGJ1bS5hbGJ1bUlkID0gdGhpcy5hbGJ1bXNbYWxidW1JbmRleF0uYWxidW1JZDsNCiAgICAgICAgdGhpcy5mb3JtZGF0YS5hbGJ1bS5hbGJ1bU5hbWUgPSB0aGlzLmFsYnVtc1thbGJ1bUluZGV4XS5hbGJ1bU5hbWUNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdmFyIGNvb2tpZSA9IHRoaXMuJGNvb2tpZS5nZXRDb29raWUoKTsNCiAgICBpZiAoY29va2llWzBdICE9ICJ0b2tlbiIpIHsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICBtZXNzYWdlOiAn55m75b2V5bey6L+H5pyfIScsDQogICAgICAgIHR5cGU6ICdlcnJvcicNCiAgICAgIH0pOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW4nIH0pOw0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAgIHRoaXMudG9rZW4gPSBjb29raWVbMV07DQogICAgfQ0KICAgIHRoaXMuc2VsZWN0QWxidW1zKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzZWxlY3RBbGJ1bXMoKSB7DQogICAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCB0aGlzLnRva2VuKTsNCiAgICAgIHRoaXMuYXhpb3Moew0KICAgICAgICB1cmw6IHRoaXMuJHNlcnZlVXJMICsgIi9hbGJ1bS9zZWxlY3RBbGJ1bU5hbWUiLA0KICAgICAgICBtZXRob2Q6ICJwb3N0IiwNCiAgICAgICAgZGF0YTogZm9ybURhdGENCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICAgaWYgKHJlc3AuZGF0YS5zdGF0dXMgPT0gInN1Y2Nlc3MiKSB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTsNCiAgICAgICAgICBfdGhpcy5hbGJ1bXMgPSByZXNwLmRhdGEuZGF0YTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAxOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgU3VibWl0SW1hZ2UoKSB7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLnVwbG9hZC5maWxlTGlzdCkNCiAgICAgIGlmICh0aGlzLmZpbGVMaXN0Lmxlbmd0aCA9PSAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieWPluaWh+S7tuWQjuWGjeS4iuS8oCcpDQogICAgICB9DQoNCiAgICAgIHRoaXMuZGlhbG9nVGFibGVWaXNpYmxlID0gdHJ1ZTsNCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICAvLyDkuIvpnaLnmoTku6PnoIHlsIbliJvlu7rkuIDkuKrnqbrnmoRGb3JtRGF0YeWvueixoToNCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KDQogICAgICAvLyDkvaDlj6/ku6Xkvb/nlKhGb3JtRGF0YS5hcHBlbmTmnaXmt7vliqDplK4v5YC85a+55Yiw6KGo5Y2V6YeM6Z2i77ybDQogICAgICB0aGlzLmZpbGVMaXN0LmZvckVhY2goKGZpbGUpID0+IHsNCiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZS5yYXcpOw0KICAgICAgfSkNCiAgICAgIC8vIOa3u+WKoOiHquWumuS5ieWPguaVsO+8jOS4jeS8oOWPr+WIoOmZpCANCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYWxidW1JZCcsIHRoaXMuZm9ybWRhdGEuYWxidW0uYWxidW1JZCk7ICAgLy/nm7jlhoxpZA0KICAgICAgZm9ybURhdGEuYXBwZW5kKCdhbGJ1bU5hbWUnLCB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtTmFtZSk7IC8v55u45YaM5ZCN5a2XIA0KICAgICAgZm9ybURhdGEuYXBwZW5kKCdyZXNOdW1iZXInLCB0aGlzLmZvcm1kYXRhLnJlc051bWJlcik7IC8v6K+G5Yir57uT5p6cDQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltZ1NpdGUnLCB0aGlzLmZvcm1kYXRhLmltZ1NpdGUpOyAvL+aLjeaRhOWcsOeCuQ0KICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbWdEYXRlJywgdGhpcy5mb3JtZGF0YS5pbWdkYXRlKTsgLy/mi43mkYTml7bpl7QNCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCB0aGlzLnRva2VuKTsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICB0aGlzLmF4aW9zKHsNCiAgICAgICAgdXJsOiB0aGlzLiRzZXJ2ZVVyTCArICIvaW1hZ2UvdXBsb2FkQUkiLA0KICAgICAgICBtZXRob2Q6ICJwb3N0IiwNCiAgICAgICAgZGF0YTogZm9ybURhdGEsDQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyB9LA0KICAgICAgICBvblVwbG9hZFByb2dyZXNzOiBmdW5jdGlvbiAocHJvZ3Jlc3NFdmVudCkgew0KICAgICAgICAgIGlmIChwcm9ncmVzc0V2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHsNCiAgICAgICAgICAgIGxldCBwcm9ncmVzc1BlcmNlbnQgPSBwYXJzZUludCgocHJvZ3Jlc3NFdmVudC5sb2FkZWQgLyBwcm9ncmVzc0V2ZW50LnRvdGFsKSAqIDEwMCkNCiAgICAgICAgICAgIGlmIChwcm9ncmVzc1BlcmNlbnQgPj0gODUpIHsNCiAgICAgICAgICAgICAgcHJvZ3Jlc3NQZXJjZW50PTg1Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgX3RoaXMucHJvZ3Jlc3NUZXh0ID0gJ+acjeWKoeWZqOato+WcqOivhuWIq+S4iuS8oCAnICsgcHJvZ3Jlc3NQZXJjZW50ICsgJyUnOw0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICAgaWYgKHJlc3AuZGF0YS5zdGF0dXMgPT0gInN1Y2Nlc3MiKSB7DQogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+S4iuS8oOWbvueJh+aIkOWKnyEnDQogICAgICAgICAgfSk7DQogICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzcC5kYXRhLmRhdGE7DQogICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICdmYWlsJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDlm77niYflpLHotKUhJw0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY3JlYXRlQWxidW0oKSB7DQogICAgICAvL+WwhmlucHV05YaF5a656LWL57uZc2VsZWN077yM5bm25YWz6Zet5LiL5ouJ6I+c5Y2VDQogICAgICB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtTmFtZSA9IHRoaXMuaW5wdXRBbGJ1bTsNCg0KICAgICAgdGhpcy5mb3JtZGF0YS5hbGJ1bS5hbGJ1bUlkID0gMDsNCg0KICAgICAgdGhpcy4kcmVmcy5mb3JtU2VsZWN0LmJsdXIoKTsNCiAgICB9LA0KICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgew0KICAgICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0Ow0KICAgICAgY29uc29sZS5sb2coZmlsZSwgZmlsZUxpc3QpOw0KICAgIH0sDQogICAgaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7DQogICAgICBmaWxlOw0KICAgIH0sDQogICAgaGFuZGxlUGljdHVyZUNhcmRQcmV2aWV3KGZpbGUpIHsNCiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDsNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgfQ0KICB9DQoNCn0NCg=="},{"version":3,"sources":["AIupload.vue"],"names":[],"mappings":";AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"AIupload.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <div id=\"title\">\r\n      <h1>AI智能识别上传</h1>\r\n    </div>\r\n    <div class=\"main-content\">\r\n      <div class=\"form\">\r\n        <el-form :model=\"formdata\" ref=\"formdata\">\r\n          <el-form-item label=\"上传相册\">\r\n            <el-select v-model=\"selectModel\" placeholder=\"不创建相册，可不选择\" ref=\"formSelect\" class=\"formItem\">\r\n              <el-option v-for=\"(item, index) in albums\" :key=\"index\" :label=\"item.albumName\" :value=\"index\">\r\n                <span>{{ item.albumName }}</span>\r\n              </el-option>\r\n              <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\" size=\"small\">\r\n              </el-input>\r\n              <i class=\"el-icon-plus\" @click=\"createAlbum\"\r\n                style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\r\n              <div slot=\"empty\" style=\"margin:5px 0 5px 0\">\r\n                <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\" size=\"small\">\r\n                </el-input>\r\n                <i class=\"el-icon-plus\" @click=\"createAlbum\"\r\n                  style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\r\n              </div>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"识别结果\">\r\n            <el-select v-model=\"formdata.resNumber\" placeholder=\"请选择识别结果数量\" class=\"formItem\">\r\n              <el-option v-for=\"item in resNumber\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"拍摄地点\">\r\n            <el-input v-model=\"formdata.imgSite\" class=\"formItem\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"拍摄日期\">\r\n            <el-col :span=\"11\" class=\"formItem\">\r\n              <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"formdata.imgdate\" style=\"width:100%\"\r\n                value-format=\"yyyy-MM-dd\">\r\n              </el-date-picker>\r\n            </el-col>\r\n          </el-form-item>\r\n\r\n        </el-form>\r\n      </div>\r\n      <div class=\"images\">\r\n\r\n        <el-upload action=\"#\" ref=\"upload\" list-type=\"picture-card\" :on-preview=\"handlePictureCardPreview\"\r\n          :on-remove=\"handleRemove\" :on-change=\"handleChange\" :auto-upload=\"false\" :multiple=\"true\"\r\n          :file-list=\"fileList\">\r\n          <i class=\"el-icon-plus\">\r\n            <span style=\"font-size:20px;  vertical-align:1px;\">选择图片</span>\r\n          </i>\r\n        </el-upload>\r\n        <el-dialog :visible.sync=\"dialogVisible\">\r\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n        </el-dialog>\r\n      </div>\r\n\r\n      <div class=\"u-button-main\">\r\n        <div class=\"u-button\">\r\n          <div class=\"u-button-son1\">\r\n            <el-button type=\"primary\" @click=\"SubmitImage\">全部上传</el-button>\r\n            <div class=\"u-button-son2\">\r\n              <el-button type=\"danger\" @click=\"dialogTableVisible = 'true'; progressText = '未上传图片'\">查看结果</el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <el-dialog title=\"识别结果\" :visible.sync=\"dialogTableVisible\">\r\n        <el-table :data=\"tableData\" :fit=\"true\" height=\"480\" v-loading=\"loading\" :element-loading-text=\"progressText\">\r\n          <el-table-column prop=\"img\" label=\"图片\">\r\n          </el-table-column>\r\n          <el-table-column :prop=\"'res' + count\" :label=\"'结果' + count\" v-for=\"count in formdata.resNumber\" :key=\"count\">\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-dialog>\r\n    </div>\r\n\r\n\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      token: '',\r\n      albums: [\r\n      ],\r\n      inputAlbum: '',\r\n      formdata: {\r\n        album: {\r\n          albumId: '-1',\r\n          albumName: ''\r\n        },//相册名字\r\n        imgSite: '',//拍摄地点\r\n        resNumber: '',//照片类型\r\n        imgdate: '',//拍摄时间\r\n      },\r\n      // 识别数量\r\n      resNumber: [\r\n        {\r\n          value: 1,\r\n          label: '1个'\r\n        },\r\n        {\r\n          value: 2,\r\n          label: '2个'\r\n        },\r\n        {\r\n          value: 3,\r\n          label: '3个'\r\n        },\r\n        {\r\n          value: 4,\r\n          label: '4个'\r\n        },\r\n        {\r\n          value: 5,\r\n          label: '5个'\r\n        },\r\n      ],\r\n\r\n      fileList: [],//图片列表\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      tableData: [{\r\n        img: '',\r\n        res1: '',\r\n        res2: '',\r\n        res3: '',\r\n        res4: '',\r\n        res5: '',\r\n      },\r\n      ],\r\n      progressText: \"服务器开始识别分析\",\r\n      loading: true,\r\n      dialogTableVisible: false,//识别结果表\r\n    }\r\n  },\r\n  // 计算属性\r\n  computed: {\r\n    selectModel: {\r\n      get() {\r\n        return this.formdata.album.albumName;\r\n      },\r\n      set(albumIndex) {\r\n        this.formdata.album.albumId = this.albums[albumIndex].albumId;\r\n        this.formdata.album.albumName = this.albums[albumIndex].albumName\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    var cookie = this.$cookie.getCookie();\r\n    if (cookie[0] != \"token\") {\r\n      this.$message({\r\n        message: '登录已过期!',\r\n        type: 'error'\r\n      });\r\n      this.$router.push({ name: 'login' });\r\n    }\r\n    else {\r\n      this.token = cookie[1];\r\n    }\r\n    this.selectAlbums();\r\n  },\r\n  methods: {\r\n    selectAlbums() {\r\n      var _this = this;\r\n      const formData = new FormData();\r\n      formData.append('token', this.token);\r\n      this.axios({\r\n        url: this.$serveUrL + \"/album/selectAlbumName\",\r\n        method: \"post\",\r\n        data: formData\r\n      }).then(function (resp) {\r\n        if (resp.data.status == \"success\") {\r\n          console.log(resp.data);\r\n          _this.albums = resp.data.data;\r\n        }\r\n        else {\r\n          1;\r\n        }\r\n      })\r\n    },\r\n    SubmitImage() {\r\n      console.log(this.$refs.upload.fileList)\r\n      if (this.fileList.length == 0) {\r\n        return this.$message.warning('请选取文件后再上传')\r\n      }\r\n\r\n      this.dialogTableVisible = true;\r\n      var _this = this;\r\n      // 下面的代码将创建一个空的FormData对象:\r\n      var formData = new FormData();\r\n\r\n      // 你可以使用FormData.append来添加键/值对到表单里面；\r\n      this.fileList.forEach((file) => {\r\n        formData.append('file', file.raw);\r\n      })\r\n      // 添加自定义参数，不传可删除 \r\n      formData.append('albumId', this.formdata.album.albumId);   //相册id\r\n      formData.append('albumName', this.formdata.album.albumName); //相册名字 \r\n      formData.append('resNumber', this.formdata.resNumber); //识别结果\r\n      formData.append('imgSite', this.formdata.imgSite); //拍摄地点\r\n      formData.append('imgDate', this.formdata.imgdate); //拍摄时间\r\n      formData.append('token', this.token);\r\n      this.loading = true;\r\n      this.axios({\r\n        url: this.$serveUrL + \"/image/uploadAI\",\r\n        method: \"post\",\r\n        data: formData,\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n        onUploadProgress: function (progressEvent) {\r\n          if (progressEvent.lengthComputable) {\r\n            let progressPercent = parseInt((progressEvent.loaded / progressEvent.total) * 100)\r\n            if (progressPercent >= 85) {\r\n              progressPercent=85;\r\n            }\r\n            _this.progressText = '服务器正在识别上传 ' + progressPercent + '%';\r\n          }\r\n        },\r\n      }).then(function (resp) {\r\n        if (resp.data.status == \"success\") {\r\n          _this.$message({\r\n            type: 'success',\r\n            message: '上传图片成功!'\r\n          });\r\n          _this.tableData = resp.data.data;\r\n          _this.loading = false;\r\n        }\r\n        else {\r\n          _this.$message({\r\n            type: 'fail',\r\n            message: '上传图片失败!'\r\n          });\r\n        }\r\n      })\r\n    },\r\n    createAlbum() {\r\n      //将input内容赋给select，并关闭下拉菜单\r\n      this.formdata.album.albumName = this.inputAlbum;\r\n\r\n      this.formdata.album.albumId = 0;\r\n\r\n      this.$refs.formSelect.blur();\r\n    },\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList;\r\n      console.log(file, fileList);\r\n    },\r\n    handleChange(file, fileList) {\r\n      this.fileList = fileList;\r\n      file;\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n.main {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n#title {\r\n  text-align: center;\r\n  height: 5%;\r\n}\r\n\r\n#title h1 {\r\n  margin-top: 20px;\r\n  font-size: 20px;\r\n}\r\n\r\n.main-content {\r\n  height: 95%;\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n.form {\r\n  width: 28%;\r\n  height: 70%;\r\n  margin-left: 2%;\r\n}\r\n\r\n.formItem {\r\n  width: 55%;\r\n}\r\n\r\n.images {\r\n\r\n  position: absolute;\r\n  left: 28%;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  /* margin-left:10% ; */\r\n  /* left,top,right,bottom都为0，充满真个页面 */\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  height: 60%;\r\n  width: 72%;\r\n  /* border: 2px solid #5cb6ff; */\r\n}\r\n\r\n.u-button-main {\r\n  width: 100%;\r\n  height: 10%;\r\n}\r\n\r\n.u-button {\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.u-button-son1 {\r\n  display: inline;\r\n  margin-left: 20%;\r\n\r\n}\r\n\r\n.u-button-son2 {\r\n  margin-left: 5%;\r\n  display: inline;\r\n}\r\n</style>"]}]}