{"remainingRequest":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SpringBoot-master\\MemoryFront\\src\\views\\Record.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\SpringBoot-master\\MemoryFront\\src\\views\\Record.vue","mtime":1716967218000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdyZWNvcmQnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0b2VrbjonJywNCiAgICAgIHRhYmxlRGF0YTogW3sNCiAgICAgICAgaWQ6MSwNCiAgICAgICAgZGF0ZTogJzIwMTYtMDUtMDM6MTg6MDAnLA0KICAgICAgICB3ZWVrOiAn5pif5pyf5LiAJywNCiAgICAgICAgb3BlcmF0aW9uOiAn5LiK5Lyg5Zu+54mHJywNCiAgICAgICAgbnVtYmVyOiAxMiwNCiAgICAgICAgaXB2NDogJzE5Mi4xNjguMS4xJywNCiAgICAgIH0sDQogICAgICBdLA0KICAgICANCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdmFyIGNvb2tpZSA9IHRoaXMuJGNvb2tpZS5nZXRDb29raWUoKTsNCiAgICBpZiAoY29va2llWzBdICE9ICJ0b2tlbiIpIHsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICBtZXNzYWdlOiAn55m75b2V5bey6L+H5pyfIScsDQogICAgICAgIHR5cGU6ICdlcnJvcicNCiAgICAgIH0pOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW4nIH0pOw0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAgIHRoaXMudG9rZW4gPSBjb29raWVbMV07DQogICAgfQ0KICAgIA0KICAgIHRoaXMuc2VsZWN0QWxsUmVjb3JkKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzZWxlY3RBbGxSZWNvcmQoKSB7DQogICAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCB0aGlzLnRva2VuKTsNCiAgICAgIHRoaXMuYXhpb3Moew0KICAgICAgICB1cmw6IHRoaXMuJHNlcnZlVXJMKyIvcmVjb3JkL3NlbGVjdEFsbCIsDQogICAgICAgIG1ldGhvZDogInBvc3QiLA0KICAgICAgICBkYXRhOiBmb3JtRGF0YSwNCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICBpZihyZXNwLmRhdGEuc3RhdHVzPT0nc3VjY2Vzcycpew0KICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXNwLmRhdGEuZGF0YTsNCiAgICAgICB9DQogICAgICB9DQogICAgICApOw0KICAgIH0sDQogICAgZGVsZXRlQWxsUmVjb3JkKCkgew0KICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm5riF56m65omA5pyJ6K6w5b2VPycsICfliKDpmaTmiYDmnInorrDlvZUnLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgdmFyIF90aGlzID0gdGhpczsNCiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Rva2VuJywgdGhpcy50b2tlbik7DQogICAgICAgIHRoaXMuYXhpb3Moew0KICAgICAgICAgIHVybDogdGhpcy4kc2VydmVVckwrIi9yZWNvcmQvZGVsZXRlQWxsIiwNCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwNCiAgICAgICAgICBkYXRhOiBmb3JtRGF0YSwNCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgew0KICAgICAgICANCiAgICAgICAgICBpZihyZXNwLmRhdGEuc3RhdHVzPT0nc3VjY2VzcycpeyANCiAgICAgICAgICAgICBfdGhpcy5zZWxlY3RBbGxSZWNvcmQoKTsNCiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJw0KICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgICk7DQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgZGVsZVJlY29yZEJ5SWQoaWQpIHsNCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIHRoaXMudG9rZW4pOw0KICAgICAgbGV0IElkcyA9IEFycmF5KDEpOw0KICAgICAgSWRzLnB1c2goaWQpOw0KICAgICAgZm9ybURhdGEuYXBwZW5kKCdJZHMnLElkcyk7DQogICAgICB0aGlzLmF4aW9zKHsNCiAgICAgICAgdXJsOiB0aGlzLiRzZXJ2ZVVyTCsiL3JlY29yZC9kZWxldGVCeUlkIiwNCiAgICAgICAgbWV0aG9kOiAicG9zdCIsDQogICAgICAgIGRhdGE6IGZvcm1EYXRhLA0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgew0KICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpDQogICAgICAgIGlmKHJlc3AuZGF0YS5zdGF0dXM9PSdzdWNjZXNzJyl7DQogICAgICAgICAgX3RoaXMuc2VsZWN0QWxsUmVjb3JkKCk7DQogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScNCiAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgICk7DQogICANCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Record.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Record.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"main\">\r\n    <el-table :data=\"tableData\" style=\"width: 100%;\" height=\"500\"  >\r\n      <el-table-column prop=\"date\" label=\"日期\" >\r\n      </el-table-column>\r\n      <el-table-column prop=\"week\" label=\"星期\" >\r\n      </el-table-column>\r\n      <el-table-column prop=\"operation\" label=\"操作记录\" >\r\n      </el-table-column>\r\n      <el-table-column prop=\"number\" label=\"数量\" >\r\n      </el-table-column>\r\n      <el-table-column prop=\"ipv4\" label=\"Ip地址\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"delete\" label=\"删除\" >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\" circle\r\n            @click=\"deleRecordById(tableData[scope.$index].id)\"></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-button class=\"button\" type=\"danger\" @click=\"deleteAllRecord\">清空所有记录</el-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'record',\r\n  data() {\r\n    return {\r\n      toekn:'',\r\n      tableData: [{\r\n        id:1,\r\n        date: '2016-05-03:18:00',\r\n        week: '星期一',\r\n        operation: '上传图片',\r\n        number: 12,\r\n        ipv4: '192.168.1.1',\r\n      },\r\n      ],\r\n     \r\n    }\r\n  },\r\n  mounted() {\r\n    var cookie = this.$cookie.getCookie();\r\n    if (cookie[0] != \"token\") {\r\n      this.$message({\r\n        message: '登录已过期!',\r\n        type: 'error'\r\n      });\r\n      this.$router.push({ name: 'login' });\r\n    }\r\n    else {\r\n      this.token = cookie[1];\r\n    }\r\n    \r\n    this.selectAllRecord();\r\n  },\r\n  methods: {\r\n    selectAllRecord() {\r\n      var _this = this;\r\n      const formData = new FormData();\r\n      formData.append('token', this.token);\r\n      this.axios({\r\n        url: this.$serveUrL+\"/record/selectAll\",\r\n        method: \"post\",\r\n        data: formData,\r\n      }).then(function (resp) {\r\n       if(resp.data.status=='success'){\r\n        _this.tableData = resp.data.data;\r\n       }\r\n      }\r\n      );\r\n    },\r\n    deleteAllRecord() {\r\n      this.$confirm('是否清空所有记录?', '删除所有记录', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n       var _this = this;\r\n        const formData = new FormData();\r\n       formData.append('token', this.token);\r\n        this.axios({\r\n          url: this.$serveUrL+\"/record/deleteAll\",\r\n          method: \"post\",\r\n          data: formData,\r\n        }).then(function (resp) {\r\n        \r\n          if(resp.data.status=='success'){ \r\n             _this.selectAllRecord();\r\n          _this.$message({\r\n          type: 'success',\r\n          message: '删除成功!'\r\n        });\r\n        }\r\n        }\r\n        );\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n    deleRecordById(id) {\r\n      var _this = this;\r\n      const formData = new FormData();\r\n      formData.append('token', this.token);\r\n      let Ids = Array(1);\r\n      Ids.push(id);\r\n      formData.append('Ids',Ids);\r\n      this.axios({\r\n        url: this.$serveUrL+\"/record/deleteById\",\r\n        method: \"post\",\r\n        data: formData,\r\n      }).then(function (resp) {\r\n        console.log(resp.data)\r\n        if(resp.data.status=='success'){\r\n          _this.selectAllRecord();\r\n          _this.$message({\r\n          type: 'success',\r\n          message: '删除成功!'\r\n        });\r\n        }\r\n      }\r\n      );\r\n   \r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  #main{\r\n    position: relative;\r\n    height: 100%;\r\n    width:100%;\r\n  }\r\n.button {\r\n position:absolute;\r\n top:90%;\r\n left:45%;\r\n}\r\n</style>"]}]}