{"remainingRequest":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SpringBoot-master\\MemoryFront\\src\\views\\VisualdataType.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\SpringBoot-master\\MemoryFront\\src\\views\\VisualdataType.vue","mtime":1716967218000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnVmlzdWFsZGF0YScsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNoYXJ0czogbnVsbCwvL+WbvuihqOWvueixoQ0KICAgICAgdG9rZW46ICcnLCAgLy90b2tlbuWHreivgQ0KICAgICAgcmVzaXplVGltZXI6IG51bGwsDQogICAgICBzZXJ2ZVVyTDogdGhpcy4kc2VydmVVckwsDQogICAgICBzY3JlZW5XaWR0aDogJycsDQogICAgICBJbWFnZVR5cGU6IFsgICAgICAgLy9waWXooagNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAxMDAsDQogICAgICAgICAgbmFtZTogJ+WKqOeJqScNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAxMSwNCiAgICAgICAgICBuYW1lOiAn5qSN54mpJw0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICB9DQogIH0sDQoNCg0KICAvL+iwg+eUqA0KICBtb3VudGVkKCkgew0KICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpID0+IHsNCiAgICAgIGlmICh0aGlzLnJlc2l6ZVRpbWVyKSB7DQogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVyKQ0KICAgICAgfQ0KICAgICAgdGhpcy5yZXNpemVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLmNoYXJ0cy5yZXNpemUoKTsNCiAgICAgIH0sIDUwMCkNCiAgICB9Ow0KDQogICAgdmFyIGNvb2tpZSA9IHRoaXMuJGNvb2tpZS5nZXRDb29raWUoKTsNCiAgICBpZiAoY29va2llWzBdICE9ICJ0b2tlbiIpIHsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICBtZXNzYWdlOiAn55m75b2V5bey6L+H5pyfIScsDQogICAgICAgIHR5cGU6ICdlcnJvcicNCiAgICAgIH0pOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW4nIH0pOw0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAgIHRoaXMudG9rZW4gPSBjb29raWVbMV07DQogICAgfQ0KICAgIHRoaXMuc2VsZWN0SW1hZ2VDb3VudCgpOw0KDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDkuIvovb3lm77niYcNCiAgICBkb3dubG9hZEltYWdlKCkgew0KICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsNCiAgICAgIGxpbmsuZG93bmxvYWQgPSAi5Zu+54mH57G75Z6L5YiG5biD6aW85Zu+IjsNCiAgICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hhcnRzKQ0KICAgICAgbGluay5ocmVmID0gdGhpcy5jaGFydHMuZ2V0RGF0YVVSTCh7DQogICAgICAgIHR5cGU6ICdwbmcnLA0KICAgICAgICBwaXhlbFJhdGlvOiAxLjUsDQogICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnDQogICAgICB9KTsgLy8g5a+85Ye65Zu+6KGo5Zu+54mH77yM6L+U5Zue5LiA5LiqIGJhc2U2NCDnmoQgVVJMDQogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOw0KICAgICAgbGluay5jbGljaygpOw0KICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChsaW5rLmhyZWYpOyAvL+mHiuaUvlVSTOWvueixoQ0KICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsNCiAgICB9LA0KICAgIC8v5p+l6K+i5omA5pyJ5Zu+54mH57G75Z6LDQogICAgc2VsZWN0SW1hZ2VDb3VudCgpIHsNCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIHRoaXMudG9rZW4pOw0KICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgIHVybDogX3RoaXMuc2VydmVVckwgKyAiL3Zpc3VhbC9zZWxlY3RUeXBlU2l0ZSIsDQogICAgICAgIG1ldGhvZDogInBvc3QiLA0KICAgICAgICBkYXRhOiBmb3JtRGF0YSwNCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICAgX3RoaXMuSW1hZ2VUeXBlID0gcmVzcC5kYXRhLmRhdGEuaW1hZ2VUeXBlOw0KICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgew0KICAgICAgICAgIF90aGlzLmRyYXdQaWUoJ2VjaGFydCcpOw0KDQogICAgICAgIH0pOw0KDQogICAgICB9KTsNCiAgICB9LA0KDQogICAgZHJhd1BpZShpZCkgew0KICAgICAgdGhpcy5jaGFydHMgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKQ0KICAgICAgdGhpcy5jaGFydHMuc2V0T3B0aW9uKHsNCiAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICBjb2xvcjogJ3JlcycsDQogICAgICAgICAgdGV4dDogJ+WbvueJh+exu+Wei+WIhuW4g+mlvOWbvicsDQogICAgICAgICAgc3VidGV4dDogJ+adpea6kOaVsOaNruW6kycsDQogICAgICAgICAgbGVmdDogJzUwJScNCiAgICAgICAgfSwNCiAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgIHRyaWdnZXI6ICdpdGVtJw0KICAgICAgICB9LA0KICAgICAgICBsZWdlbmQ6IHsNCiAgICAgICAgICBvcmllbnQ6ICd2ZXJ0aWNhbCcsDQogICAgICAgICAgbGVmdDogJ2xlZnQnDQogICAgICAgIH0sDQogICAgICAgIHNlcmllczogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG5hbWU6ICfmlbDmja7mnaXmupAnLA0KICAgICAgICAgICAgdHlwZTogJ3BpZScsDQogICAgICAgICAgICByYWRpdXM6ICc2MCUnLA0KICAgICAgICAgICAgZGF0YTogdGhpcy5JbWFnZVR5cGUsDQogICAgICAgICAgICBsZWZ0OiAnMjAlJywNCg0KICAgICAgICAgICAgZW1waGFzaXM6IHsNCiAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7DQogICAgICAgICAgICAgICAgc2hhZG93Qmx1cjogMTAsDQogICAgICAgICAgICAgICAgc2hhZG93T2Zmc2V0WDogMCwNCiAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfSkNCiAgICB9LA0KDQoNCg0KICB9LA0KDQp9DQo="},{"version":3,"sources":["VisualdataType.vue"],"names":[],"mappings":";;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA","file":"VisualdataType.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"v-main\">\r\n    <div id=\"v-title\">图片类型数据可视化</div>\r\n    <!--为echarts准备一个具备大小的容器dom-->\r\n    <div id=\"v-echart\">\r\n      <div id=\"echart\"></div>\r\n      <div class=\"button\">\r\n        <el-button type=\"primary\" @click=\"downloadImage()\">下载图表</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\nexport default {\r\n  name: 'Visualdata',\r\n  data() {\r\n    return {\r\n      charts: null,//图表对象\r\n      token: '',  //token凭证\r\n      resizeTimer: null,\r\n      serveUrL: this.$serveUrL,\r\n      screenWidth: '',\r\n      ImageType: [       //pie表\r\n        {\r\n          value: 100,\r\n          name: '动物'\r\n        },\r\n        {\r\n          value: 11,\r\n          name: '植物'\r\n        },\r\n      ],\r\n    }\r\n  },\r\n\r\n\r\n  //调用\r\n  mounted() {\r\n    window.onresize = () => {\r\n      if (this.resizeTimer) {\r\n        clearTimeout(this.resizeTimer)\r\n      }\r\n      this.resizeTimer = setTimeout(() => {\r\n        this.charts.resize();\r\n      }, 500)\r\n    };\r\n\r\n    var cookie = this.$cookie.getCookie();\r\n    if (cookie[0] != \"token\") {\r\n      this.$message({\r\n        message: '登录已过期!',\r\n        type: 'error'\r\n      });\r\n      this.$router.push({ name: 'login' });\r\n    }\r\n    else {\r\n      this.token = cookie[1];\r\n    }\r\n    this.selectImageCount();\r\n\r\n  },\r\n  methods: {\r\n    // 下载图片\r\n    downloadImage() {\r\n      const link = document.createElement('a');\r\n      link.download = \"图片类型分布饼图\";\r\n      link.style.display = 'none';\r\n      console.log(this.charts)\r\n      link.href = this.charts.getDataURL({\r\n        type: 'png',\r\n        pixelRatio: 1.5,\r\n        backgroundColor: '#fff'\r\n      }); // 导出图表图片，返回一个 base64 的 URL\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      URL.revokeObjectURL(link.href); //释放URL对象\r\n      document.body.removeChild(link);\r\n    },\r\n    //查询所有图片类型\r\n    selectImageCount() {\r\n      var _this = this;\r\n      const formData = new FormData();\r\n      formData.append('token', this.token);\r\n      this.axios({\r\n        url: _this.serveUrL + \"/visual/selectTypeSite\",\r\n        method: \"post\",\r\n        data: formData,\r\n      }).then(function (resp) {\r\n        _this.ImageType = resp.data.data.imageType;\r\n        _this.$nextTick(function () {\r\n          _this.drawPie('echart');\r\n\r\n        });\r\n\r\n      });\r\n    },\r\n\r\n    drawPie(id) {\r\n      this.charts = this.$echarts.init(document.getElementById(id))\r\n      this.charts.setOption({\r\n        title: {\r\n          color: 'res',\r\n          text: '图片类型分布饼图',\r\n          subtext: '来源数据库',\r\n          left: '50%'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left'\r\n        },\r\n        series: [\r\n          {\r\n            name: '数据来源',\r\n            type: 'pie',\r\n            radius: '60%',\r\n            data: this.ImageType,\r\n            left: '20%',\r\n\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      })\r\n    },\r\n\r\n\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n#v-main {\r\n  width: 100%;\r\n  height: 90%;\r\n  position: relative;\r\n}\r\n\r\n#v-title {\r\n  margin-top: 1%;\r\n  margin-bottom: 2%;\r\n  text-align: center;\r\n  font-size: 25px;\r\n}\r\n\r\n#v-echart {\r\n  height: 90%;\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n#echart {\r\n  position: absolute;\r\n  left: 3%;\r\n  height: 100%;\r\n  width: 80%;\r\n  display: inline-block;\r\n}\r\n\r\n.button {\r\n  position: absolute;\r\n  display: inline-block;\r\n  right: 5%;\r\n}\r\n</style>"]}]}