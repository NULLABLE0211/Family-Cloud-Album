{"remainingRequest":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SpringBoot-master\\MemoryFront\\src\\views\\Recycle.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\SpringBoot-master\\MemoryFront\\src\\views\\Recycle.vue","mtime":1716967218000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdSZWN5Y2xlJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZW1wdHkxOiAnZGlzcGxheTpibG9jaycsDQogICAgICBlbXB0eTI6ICdkaXNwbGF5Om5vbmUnLA0KICAgICAgdG9rZW46ICcnLCAgLy90b2tlbuWHreivgQ0KICAgICAgaXNSb3V0ZXJBbGl2ZTogdHJ1ZSwNCiAgICAgIHNlcnZlVXJMOiB0aGlzLiRzZXJ2ZVVyTCwNCiAgICAgIC8vIOWQjuerr+afpeivoueahOWbvueJh+aVsOaNrg0KICAgICAgaW1hZ2VzOiBbDQoNCiAgICAgIF0sDQogICAgICBwcmV2aWV3SW1hZ2VVckw6IFsNCiAgICAgICAgJycsDQogICAgICBdLA0KICAgICAgLy8g5ZON5bqU5byP5biD5bGA5Zu+54mH5aSn5bCPY3NzDQogICAgICByZWFjdGl2ZUltYWdlOiB7DQogICAgICAgIG1hcmdpbjogJzAuNWVtJywNCiAgICAgICAgd2lkdGg6ICc5JScsDQogICAgICAgIGhlaWdodDogJzIyJScsDQogICAgICB9LA0KDQogICAgICAvL+WkjemAieahhg0KICAgICAgY2hlY2tBbGw6IGZhbHNlLCAgICAgICAvL+aYr+WQpuWFqOmAiQ0KICAgICAgY2hlY2tlZEltZ0luZGV4OiBbXSwgICAvL+WbvueJh+e0ouW8leaVsOe7hA0KICAgICAgY2hlY2tlZEltZ0lkOiBbXSwgICAgICAvL+WbvueJh2lk5pWw57uEDQogICAgICBpc0luZGV0ZXJtaW5hdGU6IGZhbHNlLA0KDQogICAgICAvL+eUqOaIt+WLvumAieWbvueJh++8jOiPnOWNleeahOaYvuekuuS4jumakOiXjw0KICAgICAgY2hlY2tlZFN0YXR1czogZmFsc2UsDQogICAgICBjaGVja2VkQ291bnQ6IDAsIC8v5Yu+6YCJ5pWw6YePDQogICAgICBkaXNwbGF5VG9wTWVudTogJ3RydWUnLCAvL+aYvuekug0KICAgICAgZGlzcGxheUNoZWNrZWRNZW51OiAnJywgIC8v6ZqQ6JePDQoNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQoNCg0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHZhciBjb29raWUgPSB0aGlzLiRjb29raWUuZ2V0Q29va2llKCk7DQogICAgaWYgKGNvb2tpZVswXSAhPSAidG9rZW4iKSB7DQogICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgbWVzc2FnZTogJ+eZu+W9leW3sui/h+acnyEnLA0KICAgICAgICB0eXBlOiAnZXJyb3InDQogICAgICB9KTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2xvZ2luJyB9KTsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICB0aGlzLnRva2VuID0gY29va2llWzFdOw0KICAgIH0NCiAgICB0aGlzLnNlbGVjdEFsbEltYWdlKCk7DQoNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOWFtuS4reWkp+WbvumihOiniOebruWJjeaAu+aYr+S7juesrOS4gOW8oOW8gOWniyznroDljZXlpITnkIbkuIss5bCx5piv5p6E5bu65LiA5Liq5Lul5b2T5YmN5Zu+54mH5Li66LW35aeL55qE5pWw57uEDQogICAgZ2V0U3JjTGlzdChpbmRleCkgew0KICAgICAgcmV0dXJuIHRoaXMucHJldmlld0ltYWdlVXJMLnNsaWNlKGluZGV4KS5jb25jYXQodGhpcy5wcmV2aWV3SW1hZ2VVckwuc2xpY2UoMCwgaW5kZXgpKQ0KICAgIH0sDQogICAgLy8g5pi+56S65oiW6ZqQ6JeP6aG26YOo6I+c5Y2V5ZKM6YCJ5Lit6I+c5Y2VDQogICAgU3dpdGNoRGlzcGxheShjaGVja2VkQ291bnQpIHsNCiAgICAgIGlmIChjaGVja2VkQ291bnQgPiAwKSB7DQogICAgICAgIC8vIOiOt+WPlumhtumDqOiPnOWNlemrmOW6pu+8jOS9v+mAieS4reiPnOWNleS/neaMgeS4gOiHtA0KICAgICAgICBpZiAodGhpcy5kaXNwbGF5VG9wTWVudSAhPSAiZGlzcGxheTpub25lOyIgfHwgdGhpcy5kaXNwbGF5VG9wTWVudSA9PSAnJykgew0KICAgICAgICAgIHRoaXMuZGlzcGxheUNoZWNrZWRNZW51ID0gJ2Rpc3BsYXk6YmxvY2snDQogICAgICAgICAgdGhpcy5kaXNwbGF5VG9wTWVudSA9ICdkaXNwbGF5Om5vbmU7Jw0KICAgICAgICB9DQogICAgICB9DQogICAgICBlbHNlIHsNCiAgICAgICAgdGhpcy5kaXNwbGF5Q2hlY2tlZE1lbnUgPSAnJzsNCiAgICAgICAgdGhpcy5kaXNwbGF5VG9wTWVudSA9ICcnOw0KICAgICAgfQ0KICAgIH0sDQogICAgcmVjb3ZlckltYWdlKCkgew0KICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5oGi5aSN5Zu+54mHLCDmmK/lkKbnu6fnu60/JywgJ+aBouWkjeWbvueJhycsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgdHlwZTogJ2luZm8nDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5oYW5kbGVDaGVja0luZGV4VG9JZCgpOw0KICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Rva2VuJywgdGhpcy50b2tlbik7DQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2VJZCcsIHRoaXMuY2hlY2tlZEltZ0lkKTsNCiAgICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgICAgdXJsOiB0aGlzLiRzZXJ2ZVVyTCArICIvcmVjeWNsZS9yZWNvdmVySW1hZ2UiLA0KICAgICAgICAgIG1ldGhvZDogInBvc3QiLA0KICAgICAgICAgIGRhdGE6IGZvcm1EYXRhDQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICAgICBpZiAocmVzcC5kYXRhLnN0YXR1cyA9PSAic3VjY2VzcyIpIHsNCiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WbvueJh+aBouWkjeaIkOWKn++8gScsDQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBfdGhpcy5zZWxlY3RBbGxJbWFnZSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIDE7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbGV0ZUltYWdlKCkgew0KICAgICAgdGhpcy4kY29uZmlybSgn5bCG5b275bqV5Yig6Zmk5Zu+54mHLOaXoOazleaBouWkjeOAguaYr+WQpue7p+e7rT8nLCAn5b275bqV5Yig6ZmkJywgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLmhhbmRsZUNoZWNrSW5kZXhUb0lkKCk7DQogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCB0aGlzLnRva2VuKTsNCiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZUlkJywgdGhpcy5jaGVja2VkSW1nSWQpOw0KICAgICAgICB0aGlzLmF4aW9zKHsNCiAgICAgICAgICB1cmw6IHRoaXMuJHNlcnZlVXJMICsgIi9yZWN5Y2xlL2RlbGV0ZUltYWdlIiwNCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwNCiAgICAgICAgICBkYXRhOiBmb3JtRGF0YQ0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7DQogICAgICAgICAgaWYgKHJlc3AuZGF0YS5zdGF0dXMgPT0gInN1Y2Nlc3MiKSB7DQogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIG1lc3NhZ2U6ICflm77niYfliKDpmaTmiJDlip/vvIEnLA0KICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hlY2tBbGxDaGFuZ2UoZmFsc2UpOw0KICAgICAgICAgICAgX3RoaXMuc2VsZWN0QWxsSW1hZ2UoKTsNCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAxOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICANCiAgICBzZWxlY3RBbGxJbWFnZSgpIHsNCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIHRoaXMudG9rZW4pOw0KICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgIHVybDogdGhpcy4kc2VydmVVckwgKyAnL3JlY3ljbGUvc2VsZWN0QWxsJywNCiAgICAgICAgbWV0aG9kOiAicG9zdCIsDQogICAgICAgIGRhdGE6IGZvcm1EYXRhDQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7DQogICAgICAgIGlmIChyZXNwLmRhdGEuc3RhdHVzID09ICJzdWNjZXNzIikgew0KICAgICAgICAgIF90aGlzLmltYWdlcyA9IHJlc3AuZGF0YS5kYXRhLmltYWdlczsNCiAgICAgICAgICBfdGhpcy5wcmV2aWV3SW1hZ2VVckwgPSByZXNwLmRhdGEuZGF0YS5wcmV2aWV3SW1hZ2VVckw7DQogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5wcmV2aWV3SW1hZ2VVckwubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIF90aGlzLnByZXZpZXdJbWFnZVVyTFtpXSA9IF90aGlzLnNlcnZlVXJMICsgX3RoaXMucHJldmlld0ltYWdlVXJMW2ldDQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmltYWdlcy5sZW5ndGgpOw0KDQogICAgICAgICAgLy/liKTmlq3lvZPliY3pobXpnaLmlbDmja7mmK/lkKbkuLrnqboNCiAgICAgICAgICBpZiAoX3RoaXMuaW1hZ2VzLmxlbmd0aCA8IDEpIHsNCiAgICAgICAgICAgIF90aGlzLmVtcHR5MSA9ICdkaXNwbGF5Om5vbmUnOw0KICAgICAgICAgICAgX3RoaXMuZW1wdHkyID0gJ2Rpc3BsYXk6YmxvY2snOw0KICAgICAgICAgIH0NCiAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIF90aGlzLmVtcHR5MSA9ICdkaXNwbGF5OmJsb2NrJzsNCiAgICAgICAgICAgIF90aGlzLmVtcHR5MiA9ICdkaXNwbGF5Om5vbmUnOw0KICAgICAgICAgIH0NCiAgICAgICAgICBfdGhpcy5pc1JvdXRlckFsaXZlID0gIV90aGlzLmlzUm91dGVyQWxpdmU7DQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICB9LA0KICAgIC8v5YWo6YCJ5qGGDQogICAgaGFuZGxlQ2hlY2tBbGxDaGFuZ2UodmFsKSB7DQogICAgICBpZiAodmFsKSB7DQogICAgICAgIGxldCBsZW4gPSB0aGlzLmltYWdlcy5sZW5ndGg7DQogICAgICAgIHRoaXMuY2hlY2tlZENvdW50ID0gbGVuOw0KICAgICAgICB0aGlzLmNoZWNrZWRJbWdJbmRleCA9IG5ldyBBcnJheShsZW4pOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7DQogICAgICAgICAgdGhpcy5jaGVja2VkSW1nSW5kZXhbaV0gPSBpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBlbHNlIHsNCiAgICAgICAgdGhpcy5jaGVja2VkSW1nSW5kZXggPSBbXTsNCiAgICAgICAgdGhpcy5jaGVja2VkQ291bnQgPSAwOw0KICAgICAgfQ0KICAgICAgdGhpcy5pc0luZGV0ZXJtaW5hdGUgPSBmYWxzZTsNCiAgICAgIHRoaXMuY2hlY2tlZFN0YXR1cyA9IHZhbDsNCiAgICAgIHRoaXMuU3dpdGNoRGlzcGxheSh0aGlzLmNoZWNrZWRDb3VudCk7DQogICAgfSwNCiAgICAvL+agueaNrumAieS4reeahOe0ouW8lei9rOWMluS4uuWbvueJh+eahGlkDQogICAgaGFuZGxlQ2hlY2tJbmRleFRvSWQoKSB7DQogICAgICBsZXQgbGVuID0gdGhpcy5jaGVja2VkSW1nSW5kZXgubGVuZ3RoOw0KICAgICAgdGhpcy5jaGVja2VkSW1nSWQgPSBuZXcgQXJyYXkobGVuKTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgdGhpcy5jaGVja2VkSW1nSWRbaV0gPSB0aGlzLmltYWdlc1t0aGlzLmNoZWNrZWRJbWdJbmRleFtpXV0uaW1hZ2VJZDsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOmDqOWIhuiiq+mAieS4rSzlvZPli77pgInml7bvvIzkuIrmlrnmmL7npLrmk43kvZzoj5zljZUNCiAgICBoYW5kbGVDaGVja2VkSW1nQ2hhbmdlKHZhbHVlKSB7DQogICAgICB0aGlzLmNoZWNrZWRDb3VudCA9IHZhbHVlLmxlbmd0aDsNCiAgICAgIHRoaXMuU3dpdGNoRGlzcGxheSh0aGlzLmNoZWNrZWRDb3VudCk7DQogICAgICB0aGlzLmNoZWNrQWxsID0gdGhpcy5jaGVja2VkQ291bnQgPT09IHRoaXMuaW1hZ2VzLmxlbmd0aDsNCiAgICAgIHRoaXMuaXNJbmRldGVybWluYXRlID0gdGhpcy5jaGVja2VkQ291bnQgPiAwICYmIHRoaXMuY2hlY2tlZENvdW50IDwgdGhpcy5pbWFnZXMubGVuZ3RoOw0KICAgIH0sDQoNCiAgfQ0KfQ0K"},{"version":3,"sources":["Recycle.vue"],"names":[],"mappings":";AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Recycle.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"main\">\r\n    <div :style=\"displayTopMenu\" id=\"Recycle_Top\">\r\n      <span class=\"Recycle_title\">回收站内容最多保留 30 天</span>\r\n    </div>\r\n    <!-- 选中菜单 -->\r\n    <div id=\"RecycleCheck_menu\" :style=\"displayCheckedMenu\">\r\n      <div class=\"check_menu_item\">\r\n        <div> </div>\r\n        <div class=\" check_menu_txt\"><a style=\"vertical-align:middle;margin-right: 1.5em;\"\r\n            @click=\"handleCheckAllChange(false)\">\r\n            <svg-icon icon-file-name=\"chacha\" />\r\n          </a>已选择{{ checkedCount }}张图片</div>\r\n      </div>\r\n      <div class=\"check_menu_feature\">\r\n        <a title=\"全选图片\" @click=\"handleCheckAllChange(!checkedStatus)\">\r\n          <svg-icon icon-file-name=\"all\">\r\n          </svg-icon>\r\n        </a>\r\n        <a title=\"恢复图片\" @click=\"recoverImage()\">\r\n          <svg-icon icon-file-name=\"recover\" />\r\n        </a>\r\n\r\n        <a title=\"彻底删除\" @click=\"deleteImage()\">\r\n          <svg-icon icon-file-name=\"delete\" />\r\n        </a>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"Recycle_Image-content\" :style=\"empty1\">\r\n      <div class=\"image-item\" v-for=\"(item, index) in images\" :key=\"index\" :style=\"reactiveImage\">\r\n        <el-checkbox-group v-model=\"checkedImgIndex\" @change=\"handleCheckedImgChange\" class=\"check-box\"\r\n          :style=\"displayCheckedMenu\">\r\n          <el-checkbox :label=\"index\">\r\n          </el-checkbox>\r\n        </el-checkbox-group>\r\n        <!-- serveUrL + -->\r\n        <el-image :src=\"serveUrL + item.compressUrL\" :preview-src-list=\"getSrcList(index)\" class=\"image\">\r\n          <div slot=\"placeholder\" class=\"image-slot\" style=\"margin-top:3em\">\r\n            <svg-icon icon-file-name=\"loading\" style=\"vertical-align:-5px\">\r\n            </svg-icon>加载中\r\n          </div>\r\n\r\n        </el-image>\r\n        <div class=\"image-recycle-time\"><span>{{item.day}}天</span></div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div :style=\"empty2\">\r\n      <el-empty :image-size=\"200\"></el-empty>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Recycle',\r\n  data() {\r\n    return {\r\n      empty1: 'display:block',\r\n      empty2: 'display:none',\r\n      token: '',  //token凭证\r\n      isRouterAlive: true,\r\n      serveUrL: this.$serveUrL,\r\n      // 后端查询的图片数据\r\n      images: [\r\n\r\n      ],\r\n      previewImageUrL: [\r\n        '',\r\n      ],\r\n      // 响应式布局图片大小css\r\n      reactiveImage: {\r\n        margin: '0.5em',\r\n        width: '9%',\r\n        height: '22%',\r\n      },\r\n\r\n      //复选框\r\n      checkAll: false,       //是否全选\r\n      checkedImgIndex: [],   //图片索引数组\r\n      checkedImgId: [],      //图片id数组\r\n      isIndeterminate: false,\r\n\r\n      //用户勾选图片，菜单的显示与隐藏\r\n      checkedStatus: false,\r\n      checkedCount: 0, //勾选数量\r\n      displayTopMenu: 'true', //显示\r\n      displayCheckedMenu: '',  //隐藏\r\n\r\n    }\r\n  },\r\n  created() {\r\n\r\n\r\n  },\r\n  mounted() {\r\n    var cookie = this.$cookie.getCookie();\r\n    if (cookie[0] != \"token\") {\r\n      this.$message({\r\n        message: '登录已过期!',\r\n        type: 'error'\r\n      });\r\n      this.$router.push({ name: 'login' });\r\n    }\r\n    else {\r\n      this.token = cookie[1];\r\n    }\r\n    this.selectAllImage();\r\n\r\n  },\r\n  methods: {\r\n    // 其中大图预览目前总是从第一张开始,简单处理下,就是构建一个以当前图片为起始的数组\r\n    getSrcList(index) {\r\n      return this.previewImageUrL.slice(index).concat(this.previewImageUrL.slice(0, index))\r\n    },\r\n    // 显示或隐藏顶部菜单和选中菜单\r\n    SwitchDisplay(checkedCount) {\r\n      if (checkedCount > 0) {\r\n        // 获取顶部菜单高度，使选中菜单保持一致\r\n        if (this.displayTopMenu != \"display:none;\" || this.displayTopMenu == '') {\r\n          this.displayCheckedMenu = 'display:block'\r\n          this.displayTopMenu = 'display:none;'\r\n        }\r\n      }\r\n      else {\r\n        this.displayCheckedMenu = '';\r\n        this.displayTopMenu = '';\r\n      }\r\n    },\r\n    recoverImage() {\r\n      this.$confirm('此操作将恢复图片, 是否继续?', '恢复图片', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'info'\r\n      }).then(() => {\r\n        this.handleCheckIndexToId();\r\n        var _this = this;\r\n        const formData = new FormData();\r\n        formData.append('token', this.token);\r\n        formData.append('imageId', this.checkedImgId);\r\n        this.axios({\r\n          url: this.$serveUrL + \"/recycle/recoverImage\",\r\n          method: \"post\",\r\n          data: formData\r\n        }).then(function (resp) {\r\n          if (resp.data.status == \"success\") {\r\n            _this.$message({\r\n              message: '图片恢复成功！',\r\n              type: 'success'\r\n            });\r\n            _this.selectAllImage();\r\n          }\r\n          else {\r\n            1;\r\n          }\r\n        })\r\n      })\r\n    },\r\n    deleteImage() {\r\n      this.$confirm('将彻底删除图片,无法恢复。是否继续?', '彻底删除', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.handleCheckIndexToId();\r\n        var _this = this;\r\n        const formData = new FormData();\r\n        formData.append('token', this.token);\r\n        formData.append('imageId', this.checkedImgId);\r\n        this.axios({\r\n          url: this.$serveUrL + \"/recycle/deleteImage\",\r\n          method: \"post\",\r\n          data: formData\r\n        }).then(function (resp) {\r\n          if (resp.data.status == \"success\") {\r\n            _this.$message({\r\n              message: '图片删除成功！',\r\n              type: 'success'\r\n            });\r\n            _this.handleCheckAllChange(false);\r\n            _this.selectAllImage();\r\n          }\r\n          else {\r\n            1;\r\n          }\r\n        })\r\n      })\r\n    },\r\n    \r\n    selectAllImage() {\r\n      var _this = this;\r\n      const formData = new FormData();\r\n      formData.append('token', this.token);\r\n      this.axios({\r\n        url: this.$serveUrL + '/recycle/selectAll',\r\n        method: \"post\",\r\n        data: formData\r\n      }).then(function (resp) {\r\n        if (resp.data.status == \"success\") {\r\n          _this.images = resp.data.data.images;\r\n          _this.previewImageUrL = resp.data.data.previewImageUrL;\r\n          for (var i = 0; i < _this.previewImageUrL.length; i++) {\r\n            _this.previewImageUrL[i] = _this.serveUrL + _this.previewImageUrL[i]\r\n          }\r\n          console.log(_this.images.length);\r\n\r\n          //判断当前页面数据是否为空\r\n          if (_this.images.length < 1) {\r\n            _this.empty1 = 'display:none';\r\n            _this.empty2 = 'display:block';\r\n          }\r\n          else {\r\n            _this.empty1 = 'display:block';\r\n            _this.empty2 = 'display:none';\r\n          }\r\n          _this.isRouterAlive = !_this.isRouterAlive;\r\n        }\r\n      })\r\n\r\n    },\r\n    //全选框\r\n    handleCheckAllChange(val) {\r\n      if (val) {\r\n        let len = this.images.length;\r\n        this.checkedCount = len;\r\n        this.checkedImgIndex = new Array(len);\r\n        for (var i = 0; i < len; i++) {\r\n          this.checkedImgIndex[i] = i;\r\n        }\r\n      }\r\n      else {\r\n        this.checkedImgIndex = [];\r\n        this.checkedCount = 0;\r\n      }\r\n      this.isIndeterminate = false;\r\n      this.checkedStatus = val;\r\n      this.SwitchDisplay(this.checkedCount);\r\n    },\r\n    //根据选中的索引转化为图片的id\r\n    handleCheckIndexToId() {\r\n      let len = this.checkedImgIndex.length;\r\n      this.checkedImgId = new Array(len);\r\n      for (let i = 0; i < len; i++) {\r\n        this.checkedImgId[i] = this.images[this.checkedImgIndex[i]].imageId;\r\n      }\r\n    },\r\n    // 部分被选中,当勾选时，上方显示操作菜单\r\n    handleCheckedImgChange(value) {\r\n      this.checkedCount = value.length;\r\n      this.SwitchDisplay(this.checkedCount);\r\n      this.checkAll = this.checkedCount === this.images.length;\r\n      this.isIndeterminate = this.checkedCount > 0 && this.checkedCount < this.images.length;\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n#main {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n}\r\n\r\n#Recycle_Top {\r\n  width: 100%;\r\n  height: 8.8%;\r\n\r\n}\r\n\r\n.Recycle_title {\r\n  line-height: 1.5;\r\n  color: rgba(56, 47, 47, 0.65);\r\n  font-family: MiSans, serif;\r\n  font-size: 1.5em;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 2%;\r\n  transform: translate(-50%, -2%);\r\n}\r\n\r\n/* --- */\r\n#RecycleCheck_menu {\r\n  background-color: #3174ff;\r\n  height: 8.8%;\r\n  width: 100%;\r\n  display: none;\r\n  position: relative;\r\n}\r\n\r\n.check_menu_txt {\r\n  font-family: MiSans, MIUI, Helvetica Neue, Helvetica, Arial, PingFang SC, Microsoft Yahei, Hiragino Sans GB, Heiti SC, WenQuanYi Micro Hei, sans-serif;\r\n  color: #fff;\r\n  font-size: 1.35em;\r\n}\r\n\r\n.check_menu_item {\r\n  display: inline-block;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 5%;\r\n  transform: translate(-5%, -50%);\r\n}\r\n\r\n.check_menu_feature {\r\n  right: 5%;\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translate(-5%, -50%);\r\n}\r\n\r\n.check_menu_feature a {\r\n  margin-right: 2em;\r\n  font-size: 1.35em;\r\n}\r\n\r\n/*----*/\r\n#Recycle_Image-content {\r\n  margin-left: 1.6em;\r\n  margin-top: 1em;\r\n  width: 100%;\r\n  height: 85%;\r\n  overflow: scroll;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.image-item {\r\n  margin: 15px 15px;\r\n  width: 12em;\r\n  height: 12em;\r\n  position: relative;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n}\r\n\r\n.image-item:hover .check-box {\r\n  display: block;\r\n}\r\n\r\n.image {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n\r\n.check-box {\r\n  width: 100%;\r\n  margin: 5px;\r\n  display: none;\r\n  position: absolute;\r\n}\r\n\r\n.image-recycle-time{\r\n  position: absolute;\r\n  right: 0px;\r\n  bottom: 0px;\r\n  width: 1.5em;\r\n  height: 3em;\r\n  background-color: azure;\r\n  opacity: 0.7;\r\n  text-align: center;\r\n}\r\n</style>\r\n<style >\r\n.el-checkbox__inner {\r\n  background-color: white;\r\n  opacity: 0.9;\r\n  border: #3174ff 1px solid;\r\n  border-radius: 100px;\r\n  width: 1.4em;\r\n  height: 1.4em;\r\n}\r\n\r\n.el-checkbox__inner::after {\r\n  height: 0.68em;\r\n  left: 0.42em;\r\n  width: 0.29em;\r\n}\r\n\r\n/* 增大点击区域，提高用户体验 */\r\n.el-checkbox__inner::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -0.625em;\r\n  right: -2.5em;\r\n  bottom: -1.875em;\r\n  left: -0.75em;\r\n}\r\n</style>"]}]}