{"remainingRequest":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SpringBoot-master\\MemoryFront\\src\\views\\upload.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\SpringBoot-master\\MemoryFront\\src\\views\\upload.vue","mtime":1716967218000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCg0KICAgICAgICAgICAgdG9rZW46ICcxMTExJywNCiAgICAgICAgICAgIGFsYnVtczogWw0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGlucHV0QWxidW06ICcnLA0KICAgICAgICAgICAgZm9ybWRhdGE6IHsNCiAgICAgICAgICAgICAgICAvLyDlgLzkuLotMeaXtuS4jeS9v+eUqOebuOWGjA0KICAgICAgICAgICAgICAgIGFsYnVtOiB7DQogICAgICAgICAgICAgICAgICAgIGFsYnVtTmFtZTogJycsDQogICAgICAgICAgICAgICAgICAgIGFsYnVtSWQ6ICctMScNCiAgICAgICAgICAgICAgICB9LC8v55u45YaM5ZCN5a2XDQogICAgICAgICAgICAgICAgaW1nU2l0ZTogJycsLy/mi43mkYTlnLDngrkNCiAgICAgICAgICAgICAgICBpbWd0eXBlOiAnJywvL+eFp+eJh+exu+Weiw0KICAgICAgICAgICAgICAgIGltZ2RhdGU6ICcnLC8v5ouN5pGE5pe26Ze0DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZWxQcm9ncmVzczogZmFsc2UsDQogICAgICAgICAgICBwcm9ncmVzc1RleHQ6ICfmraPlnKjkuIrkvKAgMSUnLA0KICAgICAgICAgICAgZmlsZUxpc3Q6IFtdLC8v5Zu+54mH5YiX6KGoDQogICAgICAgICAgICBkaWFsb2dJbWFnZVVybDogJycsDQogICAgICAgICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZQ0KICAgICAgICB9Ow0KICAgIH0sDQogICAgcHJvcHM6IFsndXNlcnByb3AnXSwNCiAgICAvLyDnm5HlkKzniLbnu4Tku7bnmoTlgLwNCiAgICBjcmVhdGVkKCkgew0KDQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgICB2YXIgY29va2llID0gdGhpcy4kY29va2llLmdldENvb2tpZSgpOw0KICAgICAgICBpZiAoY29va2llWzBdICE9ICJ0b2tlbiIpIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXlt7Lov4fmnJ8hJywNCiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2xvZ2luJyB9KTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMudG9rZW4gPSBjb29raWVbMV07DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zZWxlY3RBbGJ1bXMoKTsNCiAgICB9LA0KDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgc2VsZWN0TW9kZWw6IHsNCiAgICAgICAgICAgIGdldCgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtZGF0YS5hbGJ1bS5hbGJ1bU5hbWU7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc2V0KGFsYnVtSW5kZXgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtSWQgPSB0aGlzLmFsYnVtc1thbGJ1bUluZGV4XS5hbGJ1bUlkOw0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybWRhdGEuYWxidW0uYWxidW1OYW1lID0gdGhpcy5hbGJ1bXNbYWxidW1JbmRleF0uYWxidW1OYW1lOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICB9LA0KDQogICAgbWV0aG9kczogew0KDQogICAgICAgIHNlbGVjdEFsYnVtcygpIHsNCiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIHRoaXMudG9rZW4pOw0KICAgICAgICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgICAgICAgICAgdXJsOiB0aGlzLiRzZXJ2ZVVyTCArICIvYWxidW0vc2VsZWN0QWxidW1OYW1lIiwNCiAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwNCiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YQ0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgew0KICAgICAgICAgICAgICAgIGlmIChyZXNwLmRhdGEuc3RhdHVzID09ICJzdWNjZXNzIikgew0KICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbGJ1bXMgPSByZXNwLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIDE7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBTdWJtaXRJbWFnZSgpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMudXBsb2FkLmZpbGVMaXN0KQ0KICAgICAgICAgICAgaWYgKHRoaXMuZmlsZUxpc3QubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInlj5bmlofku7blkI7lho3kuIrkvKAnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsNCiAgICAgICAgICAgIC8vIOS4i+mdoueahOS7o+eggeWwhuWIm+W7uuS4gOS4quepuueahEZvcm1EYXRh5a+56LGhOg0KICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7DQoNCiAgICAgICAgICAgIC8vIOS9oOWPr+S7peS9v+eUqEZvcm1EYXRhLmFwcGVuZOadpea3u+WKoOmUri/lgLzlr7nliLDooajljZXph4zpnaLvvJsNCiAgICAgICAgICAgIHRoaXMuZmlsZUxpc3QuZm9yRWFjaCgoZmlsZSkgPT4gew0KICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUucmF3KTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAvLyDmt7vliqDoh6rlrprkuYnlj4LmlbDvvIzkuI3kvKDlj6/liKDpmaQgDQogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FsYnVtSWQnLCB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtSWQpOyAgIC8v55u45YaMaWQNCiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYWxidW1OYW1lJywgdGhpcy5mb3JtZGF0YS5hbGJ1bS5hbGJ1bU5hbWUpOyAvL+ebuOWGjOWQjeWtlyANCiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1nU2l0ZScsIHRoaXMuZm9ybWRhdGEuaW1nU2l0ZSk7IC8v5ouN5pGE5Zyw54K5DQogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltZ1R5cGUnLCB0aGlzLmZvcm1kYXRhLmltZ3R5cGUpOy8v5Zu+54mH57G75Z6LDQogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltZ0RhdGUnLCB0aGlzLmZvcm1kYXRhLmltZ2RhdGUpOyAvL+aLjeaRhOaXtumXtA0KICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIHRoaXMudG9rZW4pOw0KICAgICAgICAgICAgdGhpcy5lbFByb2dyZXNzID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMuYXhpb3Moew0KICAgICAgICAgICAgICAgIHVybDogdGhpcy4kc2VydmVVckwgKyAiL2ltYWdlL3VwbG9hZCIsDQogICAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsDQogICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsDQogICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0sDQogICAgICAgICAgICAgICAgb25VcGxvYWRQcm9ncmVzczogZnVuY3Rpb24gKHByb2dyZXNzRXZlbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzRXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2dyZXNzUGVyY2VudCA9IHBhcnNlSW50KChwcm9ncmVzc0V2ZW50LmxvYWRlZCAvIHByb2dyZXNzRXZlbnQudG90YWwpICogMTAwKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3NQZXJjZW50ID09IDEwMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzUGVyY2VudC0tOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvZ3Jlc3NUZXh0ID0gJ+ato+WcqOS4iuS8oCAnICsgcHJvZ3Jlc3NQZXJjZW50ICsgJyUnOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsNCiAgICAgICAgICAgICAgICAgX3RoaXMuZWxQcm9ncmVzcyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGlmIChyZXNwLmRhdGEuc3RhdHVzID09ICJzdWNjZXNzIikgew0KICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5LiK5Lyg5Zu+54mH5oiQ5YqfIScNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmFpbCcsDQogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5LiK5Lyg5Zu+54mH5aSx6LSlIScNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9KQ0KDQogICAgICAgIH0sDQogICAgICAgIGNyZWF0ZUFsYnVtKCkgew0KICAgICAgICAgICAgLy/lsIZpbnB1dOWGheWuuei1i+e7mXNlbGVjdO+8jOW5tuWFs+mXreS4i+aLieiPnOWNlQ0KICAgICAgICAgICAgdGhpcy5mb3JtZGF0YS5hbGJ1bS5hbGJ1bU5hbWUgPSB0aGlzLmlucHV0QWxidW07DQoNCiAgICAgICAgICAgIHRoaXMuZm9ybWRhdGEuYWxidW0uYWxidW1JZCA9IDA7DQoNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybVNlbGVjdC5ibHVyKCk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgew0KICAgICAgICAgICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0Ow0KICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZSwgZmlsZUxpc3QpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVDaGFuZ2UoZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgICAgICAgIHRoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdDsNCiAgICAgICAgICAgIGZpbGU7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyhmaWxlKSB7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["upload.vue"],"names":[],"mappings":";AAwFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"upload.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <div id=\"title\">\r\n            <h1>普通上传</h1>\r\n        </div>\r\n        <div class=\"main-content\">\r\n\r\n            <div class=\"form\">\r\n                <el-form :model=\"formdata\" ref=\"formdata\">\r\n                    <el-form-item label=\"上传相册\">\r\n                        <el-select v-model=\"selectModel\" placeholder=\"不创建相册，可不选择\" ref=\"formSelect\" class=\"formItem\">\r\n                            <el-option v-for=\"(item, index) in albums\" :key=\"index\" :label=\"item.albumName\"\r\n                                :value=\"index\">\r\n                                <span>{{ item.albumName }}</span>\r\n                            </el-option>\r\n                            <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\"\r\n                                size=\"small\">\r\n                            </el-input>\r\n                            <i class=\"el-icon-plus\" @click=\"createAlbum\"\r\n                                style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\r\n                            <div slot=\"empty\" style=\"margin:5px 0 5px 0\">\r\n                                <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\"\r\n                                    size=\"small\">\r\n                                </el-input>\r\n                                <i class=\"el-icon-plus\" @click=\"createAlbum\"\r\n                                    style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\r\n                            </div>\r\n                        </el-select>\r\n\r\n                    </el-form-item>\r\n                    <el-form-item label=\"图片类型\">\r\n                        <el-select v-model=\"formdata.imgtype\" placeholder=\"请选择图片类型\" class=\"formItem\">\r\n                            <el-option label=\"城市\" value=\"城市\"></el-option>\r\n                            <el-option label=\"人物\" value=\"人物\"></el-option>\r\n                            <el-option label=\"风景\" value=\"风景\"></el-option>\r\n                            <el-option label=\"动漫\" value=\"动漫\"></el-option>\r\n                            <el-option label=\"花草\" value=\"花草\"></el-option>\r\n                            <el-option label=\"文本\" value=\"文本\"></el-option>\r\n                            <el-option label=\"运动\" value=\"运动\"></el-option>\r\n                            <el-option label=\"游戏\" value=\"游戏\"></el-option>\r\n                            <el-option label=\"建筑\" value=\"建筑\"></el-option>\r\n                            <el-option label=\"截图\" value=\"截图\"></el-option>\r\n                            <el-option label=\"自拍\" value=\"自拍\"></el-option>\r\n                            <el-option label=\"动物\" value=\"动物\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"拍摄地点\">\r\n                        <el-input v-model=\"formdata.imgSite\" class=\"formItem\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"拍摄日期\">\r\n                        <el-col :span=\"11\" class=\"formItem\">\r\n                            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"formdata.imgdate\"\r\n                                value-format=\"yyyy-MM-dd\" style=\"width:100%\">\r\n                            </el-date-picker>\r\n                        </el-col>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n\r\n            <div class=\"images\" v-loading=\"elProgress\" :element-loading-text=\"progressText\"\r\n                element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(255, 255, 255, 0.9)\">\r\n                <el-upload action=\"#\" ref=\"upload\" list-type=\"picture-card\" :on-preview=\"handlePictureCardPreview\"\r\n                    :on-remove=\"handleRemove\" :on-change=\"handleChange\" :auto-upload=\"false\" :multiple=\"true\"\r\n                    :file-list=\"fileList\">\r\n                    <i class=\"el-icon-plus\">\r\n                        <span style=\"font-size:20px;  vertical-align:1px;\">选择图片</span>\r\n                    </i>\r\n                </el-upload>\r\n                <el-dialog :visible.sync=\"dialogVisible\">\r\n                    <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                </el-dialog>\r\n            </div>\r\n            <div class=\"u-button-main\">\r\n                <div class=\"u-button\">\r\n                    <div class=\"u-button-son1\">\r\n                        <el-button type=\"primary\" @click=\"SubmitImage\">全部上传</el-button>\r\n                        <div class=\"u-button-son2\">\r\n                            <el-button type=\"danger\">取消上传</el-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n\r\n            token: '1111',\r\n            albums: [\r\n            ],\r\n            inputAlbum: '',\r\n            formdata: {\r\n                // 值为-1时不使用相册\r\n                album: {\r\n                    albumName: '',\r\n                    albumId: '-1'\r\n                },//相册名字\r\n                imgSite: '',//拍摄地点\r\n                imgtype: '',//照片类型\r\n                imgdate: '',//拍摄时间\r\n            },\r\n            elProgress: false,\r\n            progressText: '正在上传 1%',\r\n            fileList: [],//图片列表\r\n            dialogImageUrl: '',\r\n            dialogVisible: false\r\n        };\r\n    },\r\n    props: ['userprop'],\r\n    // 监听父组件的值\r\n    created() {\r\n\r\n    },\r\n    mounted() {\r\n        var cookie = this.$cookie.getCookie();\r\n        if (cookie[0] != \"token\") {\r\n            this.$message({\r\n                message: '登录已过期!',\r\n                type: 'error'\r\n            });\r\n            this.$router.push({ name: 'login' });\r\n        }\r\n        else {\r\n            this.token = cookie[1];\r\n        }\r\n        this.selectAlbums();\r\n    },\r\n\r\n    computed: {\r\n        selectModel: {\r\n            get() {\r\n                return this.formdata.album.albumName;\r\n            },\r\n            set(albumIndex) {\r\n                this.formdata.album.albumId = this.albums[albumIndex].albumId;\r\n                this.formdata.album.albumName = this.albums[albumIndex].albumName;\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    methods: {\r\n\r\n        selectAlbums() {\r\n            var _this = this;\r\n            const formData = new FormData();\r\n            formData.append('token', this.token);\r\n            this.axios({\r\n                url: this.$serveUrL + \"/album/selectAlbumName\",\r\n                method: \"post\",\r\n                data: formData\r\n            }).then(function (resp) {\r\n                if (resp.data.status == \"success\") {\r\n                    _this.albums = resp.data.data;\r\n                }\r\n                else {\r\n                    1;\r\n                }\r\n\r\n            })\r\n        },\r\n        SubmitImage() {\r\n            console.log(this.$refs.upload.fileList)\r\n            if (this.fileList.length == 0) {\r\n                return this.$message.warning('请选取文件后再上传')\r\n            }\r\n            var _this = this;\r\n            // 下面的代码将创建一个空的FormData对象:\r\n            var formData = new FormData();\r\n\r\n            // 你可以使用FormData.append来添加键/值对到表单里面；\r\n            this.fileList.forEach((file) => {\r\n                formData.append('file', file.raw);\r\n            })\r\n            // 添加自定义参数，不传可删除 \r\n            formData.append('albumId', this.formdata.album.albumId);   //相册id\r\n            formData.append('albumName', this.formdata.album.albumName); //相册名字 \r\n            formData.append('imgSite', this.formdata.imgSite); //拍摄地点\r\n            formData.append('imgType', this.formdata.imgtype);//图片类型\r\n            formData.append('imgDate', this.formdata.imgdate); //拍摄时间\r\n            formData.append('token', this.token);\r\n            this.elProgress = true;\r\n            this.axios({\r\n                url: this.$serveUrL + \"/image/upload\",\r\n                method: \"post\",\r\n                data: formData,\r\n                headers: { 'Content-Type': 'multipart/form-data' },\r\n                onUploadProgress: function (progressEvent) {\r\n                    if (progressEvent.lengthComputable) {\r\n                        let progressPercent = parseInt((progressEvent.loaded / progressEvent.total) * 100)\r\n\r\n                        if (progressPercent == 100) {\r\n                            progressPercent--;\r\n                        }\r\n                        _this.progressText = '正在上传 ' + progressPercent + '%';\r\n                    }\r\n                },\r\n            }).then(function (resp) {\r\n                 _this.elProgress = false;\r\n                if (resp.data.status == \"success\") {\r\n                    _this.$message({\r\n                        type: 'success',\r\n                        message: '上传图片成功!'\r\n                    });\r\n                }\r\n                else {\r\n                    _this.$message({\r\n                        type: 'fail',\r\n                        message: '上传图片失败!'\r\n                    });\r\n                }\r\n\r\n            })\r\n\r\n        },\r\n        createAlbum() {\r\n            //将input内容赋给select，并关闭下拉菜单\r\n            this.formdata.album.albumName = this.inputAlbum;\r\n\r\n            this.formdata.album.albumId = 0;\r\n\r\n            this.$refs.formSelect.blur();\r\n        },\r\n        handleRemove(file, fileList) {\r\n            this.fileList = fileList;\r\n            console.log(file, fileList);\r\n        },\r\n        handleChange(file, fileList) {\r\n            this.fileList = fileList;\r\n            file;\r\n        },\r\n        handlePictureCardPreview(file) {\r\n            this.dialogImageUrl = file.url;\r\n            this.dialogVisible = true;\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.main {\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n#title {\r\n    text-align: center;\r\n    height: 5%;\r\n}\r\n\r\n#title h1 {\r\n    margin-top: 20px;\r\n    font-size: 20px;\r\n}\r\n\r\n.main-content {\r\n    height: 95%;\r\n    width: 100%;\r\n    position: relative;\r\n}\r\n\r\n.form {\r\n    width: 28%;\r\n    height: 70%;\r\n    margin-left: 2%;\r\n}\r\n\r\n.formItem {\r\n    width: 55%;\r\n}\r\n\r\n.images {\r\n\r\n    position: absolute;\r\n    left: 28%;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    /* margin-left:10% ; */\r\n    /* left,top,right,bottom都为0，充满真个页面 */\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    height: 60%;\r\n    width: 72%;\r\n    /* border: 2px solid #5cb6ff; */\r\n}\r\n\r\n.u-button-main {\r\n    width: 100%;\r\n    height: 10%;\r\n}\r\n\r\n.u-button {\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.u-button-son1 {\r\n    display: inline;\r\n    margin-left: 20%;\r\n\r\n}\r\n\r\n.u-button-son2 {\r\n    margin-left: 5%;\r\n    display: inline;\r\n}\r\n</style>\r\n  "]}]}